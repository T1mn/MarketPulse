# å‰ç«¯é‡æ„è®¾è®¡æ–¹æ¡ˆ - ChatGPT é£æ ¼ + Material Design

> åˆ›å»ºæ—¥æœŸï¼š2025-01-24
> çŠ¶æ€ï¼šå·²ç¡®è®¤ï¼Œå¾…å®ç°

## ç›®æ ‡

å°† MarketPulse å‰ç«¯ä¼˜åŒ–ä¸º ChatGPT é£æ ¼çš„ç°ä»£èŠå¤©ç•Œé¢ï¼Œèåˆ Material Design è®¾è®¡è¯­è¨€ã€‚

## æ•´ä½“å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â˜°]  MarketPulse                            [ğŸŒ™/â˜€ï¸] â”‚  â† é¡¶éƒ¨å¯¼èˆªæ ï¼ˆæ–‡å­—æ ‡é¢˜ + ä¸»é¢˜åˆ‡æ¢ï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚                                          â”‚
â”‚ å¯¹è¯å†å²  â”‚           æ¶ˆæ¯åŒºåŸŸ                        â”‚
â”‚ (å¯æŠ˜å )  â”‚                                          â”‚
â”‚          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ [æ–°å¯¹è¯]  â”‚  â”‚ ç”¨æˆ·æ¶ˆæ¯                    [å¤åˆ¶] â”‚     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚ ä»Šå¤©      â”‚                                          â”‚
â”‚ â€¢ ç‰¹æ–¯æ‹‰..â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â€¢ æ¯”ç‰¹å¸..â”‚  â”‚ AI å›å¤              [å¤åˆ¶][ğŸ‘][ğŸ‘] â”‚     â”‚
â”‚          â”‚  â”‚                         [é‡æ–°ç”Ÿæˆ] â”‚     â”‚
â”‚ æ˜¨å¤©      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚ â€¢ è‹±ä¼Ÿè¾¾..â”‚                                          â”‚
â”‚          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚  [ğŸ“] [è¾“å…¥æ¶ˆæ¯...]           [å‘é€/åœæ­¢] â”‚  â† è¾“å…¥åŒº
â”‚          â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 128/8000 å­—ç¬¦    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ ¸å¿ƒåŠŸèƒ½

### 1. å¯æŠ˜å ä¾§è¾¹æ 
- é»˜è®¤æ”¶èµ·ï¼ˆå®½åº¦ 0ï¼‰ï¼Œç‚¹å‡» â˜° å±•å¼€ï¼ˆ260pxï¼‰
- å¯¹è¯åˆ—è¡¨æŒ‰æ—¥æœŸåˆ†ç»„ï¼šä»Šå¤©ã€æ˜¨å¤©ã€æ›´æ—©
- æ‚¬åœæ˜¾ç¤ºåˆ é™¤æŒ‰é’®
- ç§»åŠ¨ç«¯ä¸ºæŠ½å±‰è¦†ç›–æ¨¡å¼

### 2. ä¸»é¢˜åˆ‡æ¢
- æ”¯æŒæµ…è‰²/æ·±è‰²æ‰‹åŠ¨åˆ‡æ¢
- ç”¨æˆ·åå¥½å­˜å‚¨åœ¨ localStorage
- é¦–æ¬¡è®¿é—®é»˜è®¤æ·±è‰²ï¼ˆé‡‘èåº”ç”¨æƒ¯ä¾‹ï¼‰

### 3. æ¶ˆæ¯æ“ä½œæŒ‰é’®
- é»˜è®¤éšè—ï¼Œæ‚¬åœæ—¶æ˜¾ç¤º
- ç”¨æˆ·æ¶ˆæ¯ï¼š[å¤åˆ¶]
- AI æ¶ˆæ¯ï¼š[å¤åˆ¶] [é‡æ–°ç”Ÿæˆ] [ğŸ‘] [ğŸ‘]
- æ“ä½œåæ˜¾ç¤º Tooltip åé¦ˆ

### 4. å¢å¼ºè¾“å…¥æ¡†
- ğŸ“ é™„ä»¶æŒ‰é’®ï¼šæ”¯æŒå›¾ç‰‡/æ–‡æ¡£ä¸Šä¼ 
- è‡ªåŠ¨é«˜åº¦è°ƒæ•´ï¼ˆæœ€å¤§ 200pxï¼‰
- å­—ç¬¦è®¡æ•°ï¼š`n/8000`ï¼ˆåŸºäº DeepSeek é™åˆ¶ï¼‰
- å‘é€/åœæ­¢æŒ‰é’®åˆ‡æ¢
- Shift+Enter æ¢è¡Œï¼ŒEnter å‘é€

## æŠ€æœ¯é€‰å‹

| æ¨¡å— | é€‰æ‹© |
|------|------|
| UI ç»„ä»¶ | shadcn/ui |
| å›¾æ ‡ | lucide-react |
| æ ·å¼ | Tailwind CSS |
| çŠ¶æ€ç®¡ç† | React useState + Context |
| å­˜å‚¨ | localStorage + æŠ½è±¡å±‚ |
| ä¸»é¢˜ | CSS å˜é‡ + dark class |

## æ–‡ä»¶ç»“æ„

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                    # shadcn/ui ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ tooltip.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ Sidebar.tsx            # å¯æŠ˜å ä¾§è¾¹æ 
â”‚   â”œâ”€â”€ ChatMessage.tsx        # æ¶ˆæ¯æ°”æ³¡ + æ“ä½œæŒ‰é’®
â”‚   â”œâ”€â”€ ChatInput.tsx          # è¾“å…¥æ¡† + é™„ä»¶ä¸Šä¼ 
â”‚   â””â”€â”€ ThemeToggle.tsx        # ä¸»é¢˜åˆ‡æ¢
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useConversations.ts    # å¯¹è¯ç®¡ç† (CRUD)
â”‚   â””â”€â”€ useTheme.ts            # ä¸»é¢˜çŠ¶æ€
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ storage.ts             # å­˜å‚¨æŠ½è±¡å±‚
â”‚   â””â”€â”€ utils.ts               # shadcn å·¥å…·å‡½æ•°
â”œâ”€â”€ types/
â”‚   â””â”€â”€ index.ts               # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ App.tsx                    # ä¸»å¸ƒå±€
â””â”€â”€ index.css                  # å…¨å±€æ ·å¼ + ä¸»é¢˜å˜é‡
```

## å­˜å‚¨æŠ½è±¡å±‚è®¾è®¡

```typescript
// lib/storage.ts

// TODO: åˆ‡æ¢åç«¯å­˜å‚¨æ—¶ï¼Œå®ç° ApiStorageAdapter å¹¶æ›¿æ¢æ­¤å¤„
// TODO: éœ€è¦å®ç°çš„åç«¯æ¥å£: GET/POST /api/conversations, GET/POST /api/messages

interface StorageAdapter {
  // å¯¹è¯ç®¡ç†
  getConversations(): Promise<Conversation[]>
  createConversation(title: string): Promise<Conversation>
  deleteConversation(id: string): Promise<void>

  // æ¶ˆæ¯ç®¡ç†
  getMessages(conversationId: string): Promise<Message[]>
  addMessage(conversationId: string, message: Message): Promise<void>
}

// TODO: å½“å‰ä½¿ç”¨ LocalStorageAdapterï¼Œåç»­åˆ‡æ¢ä¸º ApiStorageAdapter
export const storage: StorageAdapter = new LocalStorageAdapter()
```

## æ•°æ®ç»“æ„

```typescript
interface Conversation {
  id: string
  title: string           // è‡ªåŠ¨ä»é¦–æ¡æ¶ˆæ¯ç”Ÿæˆ
  createdAt: number
  updatedAt: number
}

interface Message {
  id: string
  role: 'user' | 'assistant'
  content: string
  timestamp: number
  feedback?: 'up' | 'down'  // ç‚¹èµ/ç‚¹è¸©
  attachments?: Attachment[] // é™„ä»¶
}

interface Attachment {
  id: string
  type: 'image' | 'document'
  name: string
  url: string             // base64 æˆ– URL
}
```

## ä¸»é¢˜ç³»ç»Ÿ

```css
/* æµ…è‰²ä¸»é¢˜ */
:root {
  --bg-primary: #ffffff;
  --bg-secondary: #f7f7f8;
  --bg-tertiary: #ececec;
  --text-primary: #1a1a1a;
  --text-secondary: #6b6b6b;
  --border: #e5e5e5;
  --accent: #1a1a1a;
}

/* æ·±è‰²ä¸»é¢˜ */
.dark {
  --bg-primary: #111111;
  --bg-secondary: #1a1a1a;
  --bg-tertiary: #232323;
  --text-primary: #fafafa;
  --text-secondary: #888888;
  --border: #2a2a2a;
  --accent: #ffffff;
}
```

## å®ç°ä¼˜å…ˆçº§

1. **P0 - æ ¸å¿ƒç»“æ„**
   - shadcn/ui åˆå§‹åŒ–
   - æ–°å¸ƒå±€æ¡†æ¶ï¼ˆé¡¶æ  + ä¸»åŒºåŸŸï¼‰
   - ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½

2. **P1 - å¯¹è¯ç®¡ç†**
   - å¯æŠ˜å ä¾§è¾¹æ 
   - å¯¹è¯ CRUDï¼ˆlocalStorageï¼‰
   - å¯¹è¯åˆ—è¡¨æŒ‰æ—¥æœŸåˆ†ç»„

3. **P2 - æ¶ˆæ¯å¢å¼º**
   - æ–°æ¶ˆæ¯æ°”æ³¡æ ·å¼
   - æ“ä½œæŒ‰é’®ï¼ˆå¤åˆ¶/é‡æ–°ç”Ÿæˆ/åé¦ˆï¼‰
   - æ‰“å­—æœºæ•ˆæœä¿ç•™

4. **P3 - è¾“å…¥å¢å¼º**
   - é™„ä»¶/å›¾ç‰‡ä¸Šä¼ 
   - å­—ç¬¦è®¡æ•°
   - åœæ­¢ç”ŸæˆæŒ‰é’®

## å‚è€ƒèµ„æº

- [shadcn/ui æ–‡æ¡£](https://ui.shadcn.com/)
- [ChatGPT ç•Œé¢è®¾è®¡](https://chat.openai.com/)
- [DeepSeek API é™åˆ¶](https://deepseek.com/) - 64K tokens è¾“å…¥ï¼Œ8K tokens è¾“å‡º
